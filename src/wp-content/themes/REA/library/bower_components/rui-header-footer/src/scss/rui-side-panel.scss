@import "resi-base.scss";

@mixin transform-css($prop){
  -webkit-transform: $prop;
  -o-transform: $prop;
  -moz-transform: $prop;
  transform: $prop;
}

@mixin render-optimisation{
  -webkit-backface-visibility: hidden;
  -webkit-perspective: 1000;  
}

$overlayBgColour: #21282e;
$panelBgColour: #fff;


.rui-side-panel{
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    visibility: hidden;
    z-index: 9999;
    overflow: hidden;

  &.is-open{
    visibility: visible;
    @include render-optimisation;
  }

  &__overlay {
    transition-duration:.2s;
    background-color: $overlayBgColour;
    opacity: 0;
    width: 100%;
    height: 100%;
    position: absolute;
    visibility: hidden;
  }
  &.is-open &__overlay{
    opacity: .8;
    visibility: visible;
    @include render-optimisation;
  }

  $buttonSize: 50px;
  &__close{
    position: absolute;
    top: 0;
    left: 100%;
    width: $buttonSize;
    height: $buttonSize;
    color: #fff;
    font-size: 1.8em;
    line-height: $buttonSize;
    text-align: center;
    cursor: pointer;
  }
  &.is-right &__close{
    left: -$buttonSize;
  }

  &__content{
    background-color: $panelBgColour;
    height: 100%;
  }

  &__cont{
    position: absolute;
    height: 100%;
    width: 240px;
    @media only screen and (min-width: 400px){
      width: 300px;
    }
    transition-duration: .3s;
    visibility: hidden;
    @include transform-css(translate3d(-200%, 0, 0));
  }
  &.is-right &__cont{
    right: 0;
    @include transform-css(translate3d(200%, 0, 0));
  }
  &.is-open &__cont{
    visibility: visible;
    @include transform-css(translate3d(0, 0, 0));
  }
}

.ie9 .rui-side-panel__cont, 
.ie8 .rui-side-panel__cont{
  left: -300px;
}
.ie9 .rui-side-panel.is-right .rui-side-panel__cont, 
.ie8 .rui-side-panel.is-right .rui-side-panel__cont{
  left: 100%;
}
.ie9 .rui-side-panel.is-open .rui-side-panel__cont, 
.ie8 .rui-side-panel.is-open .rui-side-panel__cont{
  left: 0;
}