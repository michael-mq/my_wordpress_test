!function(a,b){"function"==typeof define&&define.amd?define("rui-click-buster",[],function(){return b()}):(a.RUI=a.RUI||{},a.RUI.ClickBuster=b())}(this,function(){var a={coordinates:[],preventGhostClick:function(b,c){a.coordinates.push(b,c),window.setTimeout(a.pop,2500)},pop:function(){a.coordinates.splice(0,2)},onClick:function(b){for(var c=0;c<a.coordinates.length;c+=2){var d=a.coordinates[c],e=a.coordinates[c+1];Math.abs(b.clientX-d)<25&&Math.abs(b.clientY-e)<25&&(b.stopPropagation(),b.preventDefault())}},init:function(){document.addEventListener("click",a.onClick,!0)}};return a}),function(a,b){"function"==typeof define&&define.amd?define("rui-touch-button",["rui-click-buster"],function(a){return b(a)}):(a.RUI=a.RUI||{},a.RUI.TouchButton=b(a.RUI.ClickBuster))}(this,function(a){var b=function(a,b){this.element=a,this.handler=b,a.addEventListener("touchstart",this,!1),a.addEventListener("click",this,!1)};return b.prototype={handleEvent:function(a){switch(a.type){case"touchstart":this.onTouchStart(a);break;case"touchmove":this.onTouchMove(a);break;case"touchend":this.onClick(a);break;case"click":this.onClick(a)}},onTouchStart:function(a){a.stopPropagation(),this.element.addEventListener("touchend",this,!1),document.body.addEventListener("touchmove",this,!1),this.startX=a.touches[0].clientX,this.startY=a.touches[0].clientY},onTouchMove:function(a){(Math.abs(a.touches[0].clientX-this.startX)>10||Math.abs(a.touches[0].clientY-this.startY)>10)&&this.reset()},onClick:function(b){b.stopPropagation(),this.reset(),this.handler(b),"touchend"===b.type&&a.preventGhostClick(this.startX,this.startY)},reset:function(){this.element.removeEventListener("touchend",this,!1),document.body.removeEventListener("touchmove",this,!1)}},b}),function(a,b){"function"==typeof define&&define.amd?define("rui-side-panel",["jquery"],function(a){return b(a)}):(a.RUI=a.RUI||{},a.RUI.SidePanel=b(a.jQuery))}(this,function(a){var b=function(){};return b.prototype.init=function(b,c,d){this._$containerEl=a(d||"body"),this._$el=a('<div class="rui-side-panel"><div class="rui-side-panel__overlay"></div><div class="rui-side-panel__cont"><div class="rui-side-panel__content"></div><div class="rui-side-panel__close rui-icon rui-icon-cross" aria-role="button" aria-label="Close"></div></div></div>'),this._$el.find(".rui-side-panel__content").append(a(b));var e="ontouchstart"in window?"touchend":"click";this._$el.on(e,".rui-side-panel__overlay,.rui-side-panel__close",a.proxy(this.close,this)),"right"==c&&this._$el.addClass("is-right"),this._$containerEl.append(this._$el.hide())},b.prototype.open=function(){this._$el.show().offset(),this._$el.addClass("is-open"),a(this).trigger("opened")},b.prototype.close=function(){var b=this._$el.find(".rui-side-panel__cont");b.one("transitionend",a.proxy(this._closeComplete,this)),this._$el.removeClass("is-open"),a(this).trigger("closed")},b.prototype._closeComplete=function(){this._$el.hide()},b.prototype.destroy=function(){this._$el&&this._$el.remove()},b.prototype.getView=function(){return this._$el},b.create=function(){var a=new b;return a.init.apply(a,arguments),a},b}),function(a,b){"function"==typeof define&&define.amd?define("rui-user-view",["jquery","rui-side-panel","rui-touch-button"],function(a,c){return b(a,c)}):(a.RUI=a.RUI||{},a.RUI.UserView=b(a.jQuery,a.RUI.SidePanel))}(this,function(a,b){var c=function(){return"matchMedia"in window&&window.matchMedia("(max-width: 580px)").matches?"https://m.realestate.com.au/my-real-estate/saved-properties":"https://www.realestate.com.au/saved-properties/"},d="(max-width: 800px)",e={setupViews:function(a){this.views={navContainer:a,personGuyIcon:a.find(".rui-person-guy"),personGuyMenu:a.find(".rui-person-guy-menu"),desktopMenuContainer:a.find(".rui-account-menu-container")}},_userMenuMarkup:function(){var a=[{href:c(),title:"View saved properties",icon:"rui-icon-save-hollow-small",text:"Saved properties"},{href:"https://www.realestate.com.au/property/my-property",title:"My property",icon:"rui-icon-home-small",text:"My property"},{href:"https://www.realestate.com.au/saved-searches/",title:"View property alerts",icon:"rui-icon-save-search-small",text:"Saved searches &amp; alerts"},{href:"https://www.realestate.com.au/my-real-estate/my-profile/",title:"View profile",icon:"rui-icon-avatar-small",text:"My profile"},{href:"https://www.realestate.com.au/my-real-estate/account/",title:"Manage account settings",icon:"rui-icon-cog-small",text:"Account settings"}],b='<ul class="rui-account-menu">{{linksTemplate}}<li class="rui-account-menu-item last">{{userView}}</li></ul>';return b.replace(/{{linksTemplate}}/g,this._linksMarkup(a)).replace(/{{userView}}/g,this._userViewMarkup())},_linksMarkup:function(b){var c='<li class="{{className}}"><a href="{{href}}" title="{{title}}">{{iconTemplate}}<span>{{text}}</span></a></li>',d="",e=this._iconMarkup;return a.each(b,function(a,b){var f="rui-account-menu-item";0===a&&(f+=" first"),d+=c.replace(/{{className}}/g,f).replace(/{{href}}/g,b.href).replace(/{{title}}/g,b.title).replace(/{{text}}/g,b.text).replace(/{{iconTemplate}}/g,e(b.icon))}),d},_iconMarkup:function(a){var b='<span class="rui-icon {{icon}}"></span>';return a?b.replace(/{{icon}}/g,a):""},_userViewMarkup:function(){var a='<span class="rui-user-email">'+this.userEmail+'</span><div><a class="rui-button-basic rui-button-mobile-smaller" href="https://www.realestate.com.au/logout.ds">Log out</a></div>',b='<div><a class="rui-button-basic rui-button-mobile-smaller" href="https://www.realestate.com.au/my-real-estate/login">Sign in</a><a class="rui-button-brand rui-button-mobile-smaller" href="https://www.realestate.com.au/my-real-estate/register">Join</a></div>';return this.isLoggedIn?a:b},_onLoggedIn:function(a,b){var c=this.views;this.isLoggedIn=!0,c.navContainer.show().addClass("is-logged-in"),c.personGuyIcon.addClass("rui-icon-user-on").removeClass("rui-icon-user-off"),this.updateUserArea(b.email)},_onLoggedOut:function(){var a=this.views;this.isLoggedIn=!1,a.navContainer.show().removeClass("is-logged-in"),a.personGuyIcon.addClass("rui-icon-user-off").removeClass("rui-icon-user-on"),this.updateUserArea()},_createDesktopUserMenu:function(){this.views.desktopUserMenu=this.views.desktopMenuContainer.html(a(this._userMenuMarkup()).addClass("rui-toggle-container"))},_userMenuClickHandler:function(a){a.preventDefault(),this.isResponsive&&"matchMedia"in window&&window.matchMedia(d).matches?(a.stopImmediatePropagation(),this.sidePanel=this.sidePanel||b.create(this._userMenuMarkup(),"right"),this.sidePanel.getView().addClass("rui-header-mobile-only").toggleClass("disable-nav",!this.isLoggedIn),this.sidePanel.open()):this.views.desktopUserMenu||this._createDesktopUserMenu()},updateUserArea:function(b){this.userEmail=b||"",this.sidePanel&&this.sidePanel.getView().toggleClass("disable-nav",!this.isLoggedIn),a(".rui-account-menu .last").html(this._userViewMarkup())},bindEvents:function(){a(document).on("rui-logged-in",a.proxy(this._onLoggedIn,this)).on("rui-logged-out",a.proxy(this._onLoggedOut,this));var b="ontouchstart"in window?"touchend":"click";this.views.personGuyIcon.on(b,a.proxy(this._userMenuClickHandler,this))},init:function(a,b){this.isResponsive=b,this.userEmail="",this.isLoggedIn=!1,this.setupViews(a),this.bindEvents()}};return e}),function(a,b){"function"==typeof define&&define.amd?define("rui-header",["jquery","rui-browser-utils","rui-click-buster","rui-touch-button","rui-user-view","rui-side-panel"],function(a,c,d,e,f,g){return b(a,c,d,e,f,g)}):(a.RUI=a.RUI||{},a.RUI.Header=b(a.jQuery,a.RUI.BrowserUtils,a.RUI.ClickBuster,a.RUI.TouchButton,a.RUI.UserView,a.RUI.SidePanel))}(this,function(a,b,c,d,e,f){var g=function(){return-1!=b.getReferrer().indexOf("realestate.com.au")},h=function(a){return'<button class="rui-mobile-cta rui-icon rui-icon-'+a.icon+' rui-button-no-style"><span class="rui-visuallyhidden">'+a.text+'</span><span class="hit-box"></span></button>'},i=a("body"),j=function(){return"innerWidth"in window?document.documentElement.clientWidth/window.innerWidth:1},k={TOGGLE_CLASS:"rui-burger-toggle",MENU_CONTAINER_CLASS:"rui-burger-container",OPEN_CLASS:"rui-burger-open",FEATURE_ENABLED_CLASS:"rui-burger",init:function(){a("html").addClass(k.FEATURE_ENABLED_CLASS),a(".rui-burger-toggle").addClass("rui-desktop"),this.setUpConstants(),this.HAS_MOBILE_NAV?a(".rui-burger-toggle").clone().prependTo(a(".rui-header-container")).removeClass("rui-desktop").addClass("rui-mobile"):a(".rui-mobile-nav").remove(),k.bindEvents()},setUpConstants:function(){this.RETURN_TO_PREVIOUS_PAGE=i.data("returnToPreviousPage")&&g()&&b.getHistoryLength()>1,this.HAS_MOBILE_NAV=a(".rui-mobile-nav").length>0&&!this.RETURN_TO_PREVIOUS_PAGE?!0:!1},open:function(b){a("html").addClass(k.OPEN_CLASS),k.sidePanel&&k.sidePanel.open()},close:function(a){k.sidePanel?k.sidePanel.close():k.onClose()},onClose:function(){a("html").removeClass(k.OPEN_CLASS),a(document).trigger("rui-burger-toggle-off")},desktopBurgerLogic:function(b){if(a("."+k.TOGGLE_CLASS+".rui-desktop").is(":visible")){var c=a(b.target).closest(".rui-burger-container").length>0&&0===a(b.target).closest(".rui-nav-item").length?!0:!1,d=a(b.target).hasClass(k.TOGGLE_CLASS)||a(b.target).closest("."+k.TOGGLE_CLASS).length>0?!0:!1;d&&!a("html").hasClass(k.OPEN_CLASS)?k.open(b):a("html").hasClass(k.OPEN_CLASS)&&!c&&k.close(b)}},goBackToPreviousPageLogic:function(){this.RETURN_TO_PREVIOUS_PAGE&&(this.$goBackEl=a(h({icon:"back",text:"Go Back"})),this.$goBackEl.prependTo(a(".rui-header-container")),this.$goBackEl.on("click",function(){b.go(-1)}))},bindEvents:function(){var b="click";"ontouchstart"in window?(b="touchend",a("."+k.TOGGLE_CLASS+".rui-mobile").each(function(a,b){new d(b,k.open)}),c.init()):a("."+k.TOGGLE_CLASS+".rui-mobile").click(k.open),this.HAS_MOBILE_NAV&&(a(".rui-mobile-nav").show(),this.sidePanel=f.create(".rui-mobile-nav","left",".rui-burger-container"),this.sidePanel.getView().addClass("rui-header-mobile-only"),a(this.sidePanel).on("closed",k.onClose)),this.goBackToPreviousPageLogic(),a(document).on("click","body",k.desktopBurgerLogic)}},l={didScroll:!1,changeHeaderOn:1,timeBetweenScrolls:1,isResponsive:i.hasClass("rui-responsive"),maxHeaderWidthWhenNotResponsive:975,animationDuriation:300,isInputInFocus:!1,userView:e,redirect:function(a){window.location=a},scrollTo:function(b,c){var d=this;c=c||0,l.shrinkHeader(function(){var e=0;d.header.hide().show(0),pos=a(b).offset().top,"fixed"===d.header.css("position")&&(e=d.header.outerHeight()),a("html, body").animate({scrollTop:pos-e-c},300)})},deBounce:function(a,b,c){var d=null,e=[];return function(){if(c){for(var f=[],g=0;g<arguments.length;++g)f.push(arguments[g]);e.push(f)}d&&clearTimeout(d);var h=arguments;d=setTimeout(function(){b.apply(c?{data:e}:null,h),e=[],d=null},a)}},init:function(){this.header=a(".rui-header"),i.removeClass("rui-preload"),k.init();var b=this.header.find(".rui-myrea-nav");1==b.length&&this.userView.init(b,i.hasClass("rui-responsive")),i.hasClass("rui-cobranded")||this.header.hasClass("rui-header-not-fixed")||this.bindEvents()},bindEvents:function(){var b=this;"ontouchstart"in window&&(a(document).on("focus","input,textarea,select",function(a){b.isInputInFocus=!0,b.header.addClass("rui-header-not-fixed"),b.header.removeClass("rui-header-shrink")}),a(document).on("blur","input,textarea,select",function(a){b.isInputInFocus=!1,window.pageYOffset>b.changeHeaderOn&&(i.addClass("rui-preload"),b.header.addClass("rui-header-shrink")),b.header.removeClass("rui-header-not-fixed")})),i.on("click","[data-rui-scroll-to-el]",function(){var b=a(this),c=b.data("rui-scroll-to-el"),d=b.data("rui-scroll-offset")||0;l.scrollTo(c,d)}),this.header.hasClass("rui-header-shrink")||(a(window).on("scroll",b.deBounce(b.timeBetweenScrolls,function(a){b.scrollPage()},!0)),a(window).on("resize",function(a){b.scrollPage()}),a(document).on("rui-burger-toggle-off",function(){window.setTimeout(function(){l.scrollPage()},700)}),this.scrollPage())},scrollY:function(){return window.pageYOffset||document.documentElement.scrollTop},shrinkHeader:function(b){var c=a("html"),d=this.header.hasClass("rui-header-shrink")||c.hasClass("ie8")||c.hasClass("ie9");d?"function"==typeof b&&b.call(this):(this.header.addClass("rui-header-shrink"),window.setTimeout(function(){"function"==typeof b&&b.call(this)},this.animationDuriation))},scrollPage:function(){if(!this.isInputInFocus)if(i.removeClass("rui-preload"),a(window).width()<this.maxHeaderWidthWhenNotResponsive*j()&&!this.isResponsive)this.header.addClass("rui-header-not-fixed"),this.header.removeClass("rui-header-shrink");else if(j()>1&&this.isResponsive)this.header.addClass("rui-header-not-fixed");else{this.header.removeClass("rui-header-not-fixed");var b=this.scrollY();b>=this.changeHeaderOn?(a(this.header).find(".rui-toggle-link.rui-site-link").removeClass("rui-toggle-open"),a(this.header).find(".rui-international-nav.rui-toggle-container").hide(),this.header.addClass("rui-header-shrink")):a("html").hasClass("rui-burger-open")||this.header.removeClass("rui-header-shrink")}}};return l.init(),l});