/* RUI: REA User Interface library - Core - v6.5.0
   Copyright 2016, REA Group */

!function(a,b){"function"==typeof define&&define.amd?define("rui-toggle",["jquery"],function(a){return b(a)}):(a.RUI=a.RUI||{},a.RUI.Toggle=b(a.jQuery))}(this,function(a){var b={};return b.bindEvents=function(){a("body").on("click",".rui-toggle-link",function(b){if(b.preventDefault(),a(this).hasClass("rui-toggle-open"))a(".rui-toggle-container").hide(),a(this).removeClass("rui-toggle-open");else{a(".rui-toggle-open").removeClass("rui-toggle-open"),a(".rui-toggle-container").hide(),a(this).addClass("rui-toggle-open");var c=a(this).attr("data-container");c?a("#"+c).show():a(this).closest(".rui-toggle-wrapper").find(".rui-toggle-container").show()}}),a("body").on("click",function(c){var d=a(".rui-toggle-open");d.length>0&&!b.clickedOnToggle(c.target)&&(c.preventDefault(),d.removeClass("rui-toggle-open"),a(".rui-toggle-container").hide())})},b.clickedOnToggle=function(a){return b.clickedOnLink(a)||b.clickedOnContainter(a)},b.clickedOnLink=function(b){return a(b).hasClass("rui-toggle-link")||a(b).closest(".rui-toggle-link").length>0},b.clickedOnContainter=function(b){return a(b).closest(".rui-toggle-container").length>0},a(document).ready(function(){b.bindEvents()}),b});